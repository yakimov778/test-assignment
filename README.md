## Задание:

#### *Поднять две ВМ под управлением Linux (желательно RHEL, CentOS, или Fedora).*
#### *На ВМ1 c помощью Ansible установить и запустить Jenkins.*
#### *В Jenkins создать и запустить Job свободной конфигурации, который выполнит на ВМ2:*
#### *3.1. Установку пакетов: htop, tmux, jq.*
#### *3.2.  Сконфигурирует сервис sshd таким образом, чтобы запретить пользователю root соединения по ssh с удаленных хостов и парольную аутентификацию, включит аутентификацию по SSH ключам.*
#### *3.3. Перезапустит сервис sshd.*
#### *В качестве результатов необходимо прислать:*
####    *1.       Ansible плэйбук и лог его выполнения.*
####    *2.       Лог и конфигурацию (можно скриншот) успешно отработавшего Jenkins Job.*
####    *3.       Файл конфигурации sshd.*
####


#### 1. Ansible плэйбук и лог его выполнения:
**См. директорию ansible:*
https://github.com/yakimov778/test-assignment/tree/main/ansible

```bash
lsattr@linux:~/test/ansible$ ansible-playbook -i inventory.yaml install_jenkins.yml 

PLAY [Install and configure Jenkins] ***************************************************************************

TASK [Gathering Facts] *****************************************************************************************
ok: [192.168.1.203]

TASK [Add Jenkins Repository] **********************************************************************************
changed: [192.168.1.203]

TASK [Import Jenkins GPG Key] **********************************************************************************
changed: [192.168.1.203]

TASK [Upgrade Packages] ****************************************************************************************
ok: [192.168.1.203]

TASK [Install required dependencies for Jenkins package] *******************************************************
changed: [192.168.1.203]

TASK [Install Jenkins] *****************************************************************************************
changed: [192.168.1.203]

TASK [Enable and start Jenkins] ********************************************************************************
changed: [192.168.1.203]

TASK [permit traffic in default zone for https service] ********************************************************
changed: [192.168.1.203]

TASK [permit traffic in default zone on port 8080/tcp] *********************************************************
changed: [192.168.1.203]

TASK [Reload firewalld] ****************************************************************************************
changed: [192.168.1.203]

PLAY RECAP *****************************************************************************************************
192.168.1.203              : ok=10   changed=8    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

```
![Screenshot1.png](Screenshots/Screenshot1.png)



#### 2. Лог и конфигурацию (можно скриншот) успешно отработавшего Jenkins Job:

![Screenshot2.png](Screenshots/Screenshot2.png)
![Screenshot2.png](Screenshots/Screenshot3.png)
![Screenshot2.png](Screenshots/Screenshot4.png)
![Screenshot2.png](Screenshots/Screenshot5.png)
![Screenshot2.png](Screenshots/Screenshot6.png)
![Screenshot2.png](Screenshots/Screenshot7.png)

#### 3. Файл конфигурации sshd:

**См. директорию sshd_config_file:* https://github.com/yakimov778/test-assignment/tree/main/sshd_config_file

-------------------------------------------------------------------

-------------------------------------------------------------------

##### \* в процессе "Кейс 3":

### Кейс 1
#### "Представьте АС, уровня BO, в которой ежедневно работает до 20 тысяч пользователей. Доработку АС ведут разные команды из разных Блоков (более 15), внутри данной АС выделены несколько ФП. Ближе к концу года службой мониторинга фиксировались регулярные замедления в работе АС. «Краснели» попеременно или вместе показатели времени отклика БД, переполнения памяти, утилизации процессоров, заканчивались свободные процессы. Некоторые всплески завершались до того, как это замечали пользователи, некоторые длились часами и приводили к необходимости регистрации инцидентов со стороны пользователей. Опишите, как бы Вы решали данные инциденты и исключали их повторение для данной АС в будущем."
 *Если несколько вариаций разрешения данной ситуации: решение с технической точки зрения, т. е. самим инженером и его алгоритм действия,
и вариант решения с точки зрения общей картины - руководителя команды или ответственного.*

*Большинство этих проблем сводятся к отсутствию индексации, неэффективным запросам и неправильному использованию типов данных, но это только применимо к самой бд.*

*В данной ситуации необходимо провести небольшую аналитику, если данный кейс связан с кейсом 3, то есть вероятность  блокировок на БД после внедрения релиза АС.*
*Так же нужно исключить физические проблемы с диском, необходимое количество памяти для данного сервера, проблема с сетью. Скорее всего понадобится обсуждение с сис. администратором/администратором бд, могли ли быть запущены репликации, бекапы, проводились ли какие-то дополнительные работы, посмотреть логи на сервере,* 

*Возможно устнаовка других, более чувствительных(немного ниже) пороговых значений предупреждений от мониторинга, это необходимо для более раннего реагирования еще до того как они начнут оказывать существенное воздействие на работу системы, что поможет в анализе ситуации.*

*Для исключения повтора данных ситуаций я бы рекомендовал:*  
- *Оптимизация настроек бд, сервера и увеличение пропускной способности сети если необходимо.*
- *Увеличение ресурсов аппаратного обеспечения, например, увеличение объема оперативной памяти или добавление процессорных ядер и т. п..*
- *Использование технологий балансировки нагрузки и реализовать масштабирование ресурсов для обеспечения равномерной работы при росте нагрузки*


### Кейс 2
#### *"Вашей команде на сопровождение передают функциональную подсистему(часть от другой команды. Контроль процесса передачи этой функциональной подсистемы ложится на Ваши плечи. Опишите свой чек лист процесса передачи. "*

*В момент передачи ФП возможно падение производительности — скорее всего задачи будут делаться дольше, потому что новым людям требуется время на знакомство с ФП. Скорость этого процесса зависит от разных факторов - на какой стадии находится, квалификации новых специалистов и так далее.*

*Данный шаг может быть на любом этапе:*
*Поиск сотрудников в штат(если требуется), то есть оценка квалификации сотрудников и объемы работ*
*+ объём поддержки (количество часов в месяц), роли на проекте, время реакции в зависимости от статуса задачи (критическая, срочная, обычная)*

*Получить/подготовить документацию.*
*Документацию по общим настройкам, инфраструктуре, логике работы системы.*
*Документацию по бэкенду и фронтенду, описание API и интеграций.*
*Глоссарий по проекту, планы работ, гайды по запуску и релизам.*
*Документацию по тестированию: тест-кейсы и отчёты о запуске автотестов.*
*Инструкции по работе с административной панелью.*



*Получить доступы:* 
- *к серверу;*
- *к административной панели;*
- *к интеграционным сервисам;*
- *в репозиторий;*
- *и т. п.*

*Получить прочие документы, необходимые для понимания текущего статуса проекта.*

*Подготовка сотрудников для работы с ФП:*
- *Обучение новой команды,*
- *Изучение ФП, знакомство команды с документацией, серии встреч и т. п. погружение в ФП.*


### Кейс 3
#### *"В период технологического окна (с 00:00 до 01:00) произведено внедрение релиза АС. По итогу проведения работ никаких отклонений в работе АС не зафиксировано. С 04:00 до 06:00 поступает 3 пользовательских инцидента с жалобами на замедления в работе АС. В связи со схожим описанием инцидентов (подозрение на ВПИ) инженер дежурной смены осуществляет сбор ТКС и подключает администратора, который по результатам первичного анализа фиксирует блокировки на базе данных.*

#### Опишите последовательность шагов по:

- ##### *классификации и уточнению периметра инцидента*
- ##### *диагностике инцидента (выявлению причин инцидента и поиск способов его устранения)*
- ##### *разработке мероприятий по устранению инцидента*
- ##### *закрытию инцидента в системе автоматизации SM (с заполнением всех необходимых атрибутов инцидента)"*

- ###### классификации и уточнению периметра инцидента:
*Классификация дежурным инженером важности/приоритета инцедента(критическая, срочная, обычная),*
*Анализ инцедента(затронутые пользователи, ситсемы, время возникновения), сбор дополнительной информации о каждом инциденте, выявление схожести описания и объединение их в одну группу в системе автоматизации SM.*
*Уточнению периметра инцидента - определение периметра затронутых систем и определение к какой группе он относится, имеется ввиду кто будет ответственным за решение проблемы, и обеспечит эффективное взаимодействие между различными командами/отделами. На данном этапе инженер подключает администратора.*

- ###### диагностике инцидента (выявлению причин инцидента и поиск способов его устранения):
*На данном этапе происходит анализ и диагностика проблемы, изучение логов, системы и т. п. где администратор по результатам первичного анализа фиксирует блокировки на базе данных. Далее, администратор, осуществляет поиск способов решения данной проблемы.*

- ###### разработке мероприятий по устранению инцидента:
Устанение блокировок в базе данных. Возможно разработка плана отката внедренного ранее релиза АС, что привело к блокировкам на бд.

- ###### закрытию инцидента в системе автоматизации SM (с заполнением всех необходимых атрибутов инцидента):
*После проведения мероприятий по устранению инцидента и решению данного вопроса, в системе автоматизации SM заполняется необходимые теги, с документированием этапов причин возникновения данного инцидента и осуществленных мероприятий для его устранения.*